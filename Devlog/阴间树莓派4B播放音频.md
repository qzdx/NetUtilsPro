# 阴间树莓派4B音频播放解决方案

## 问题背景
在尝试通过命令行播放WAV音频时发现：
- 使用`play`命令可正常播放
- 但程序运行时遇到权限限制
- `sudo`运行程序时无法访问音频设备

## 硬件直连方案
通过直接访问音频硬件实现稳定播放：

```bash
speaker-test -D plughw:0,0 -c 2 -t wav
```

> ⚠️ 注意：`0,0`设备编号在重启后会变化

## 固定配置方案
创建ALSA配置文件实现设备编号固定化：

```bash
sudo tee /etc/asound.conf <<'EOF'
pcm.headphone {
    type hw
    card Headphones
    device 0
}

pcm.!default {
    type plug
    slave.pcm "headphone"
}
EOF
```

## 验证与测试
1. 检查设备识别状态
```bash
aplay -L | grep -A1 'headphone'
```

2. 使用设备名称播放音频
```bash
aplay -D headphone audio.wav
```

## 优化说明
- 通过ALSA配置文件实现设备名称固定化
- 避免依赖动态分配的card编号

